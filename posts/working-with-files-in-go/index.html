<!DOCTYPE html>



<html lang="en"> 
<head>
    
    <meta charset="utf-8">
    <title>varunksaini | Working with files with go lang</title>
    <meta name="description" content="Varun Saini is an engineer.">
    <meta name="author" content="Varun Saini">
    <link rel="author" href="http://varunksaini.com/humans.txt" />

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <link rel="stylesheet" href="http://varunksaini.com/css/site.css">

    

    
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">

</head>
<body>

     

    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                

<h1 id="toc_0">Working with files with go lang</h1>

<p>Go makes working with file very easy and file reading is an operation that is used very frequently.</p>

<p>To open a file in Go, we can use &ldquo;Open&rdquo; function from the &ldquo;os&rdquo; package.</p>

<pre><code class="language-language=Go">package main

import (
	&quot;fmt&quot;
	&quot;os&quot;
)

func main() {
	file, err := os.Open(&quot;test.txt&quot;)
	if err != nil {
		fmt.Println(&quot;erros is: &quot;, err)
		return
	}
	defer file.Close()

	size, err := file.Stat()
	if err != nil {
		fmt.Println(&quot;erros is: &quot;, err)
		return
	}

	fs := make([]byte, size.Size())
	_, err = file.Read(fs)
	if err != nil {
		fmt.Println(&quot;erros is: &quot;, err)
		return
	}

	str := string(fs)
	fmt.Println(str)
}
</code></pre>

<p>I really like how you can simply defer the file close operation just after creating a file object. In Go you use &ldquo;defer&rdquo; to do that. any function that use defer will excute in the end. This way we don&rsquo;t have to worry about forgeting closing the file.</p>

<p>There is a shorter way to read files too.</p>

<pre><code class="language-language=Go">package main

import (
	&quot;fmt&quot;
	&quot;io/ioutil&quot;
)

func main() {
	fs, err := ioutil.ReadFile(&quot;test.txt&quot;)
	if err != nil {
		fmt.Println(&quot;Error is: &quot;, err)
	}

	str := string(fs)
	fmt.Println(str)
}
</code></pre>

<p>If we want to create a file instead of reading it, just use</p>

<pre><code class="language-language=Go">file, err := os.Create(&quot;test.txt&quot;)
</code></pre>

             </div>
          </div>
       </div>
<hr>
   <div class="container">
         <footer id="site-footer">
            <p class="pull-right"><a href="http://varunksaini.com/">Home</a>.

              <br>
                <span class="pull-right" id="specs">Built with <a href="http://hugo.spf13.com">Hugo</a> | <a href="http://varunksaini.com/humans.txt">humans.txt</a>
                <br>&copy; <a href="http://varunksaini.com">Varun Saini</a>
              </span>
            </p>
         </footer>
   </div>
    
    <script src="http://varunksaini.com/js/jquery.js"></script>
    <link rel="stylesheet" href="http://varunksaini.com/css/site.css">

</body>
</html>


<!DOCTYPE html>



<html lang="en"> 
<head>
    
    <meta charset="utf-8">
    <title>varunksaini | using io.LimitReader to read a binary file</title>
    <meta name="description" content="Varun Saini is an engineer.">
    <meta name="author" content="Varun Saini">
    <link rel="author" href="http://varunksaini.com/humans.txt" />

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <link rel="stylesheet" href="http://varunksaini.com/css/site.css">

    

    
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">

</head>
<body>

     

    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                

<h1 id="toc_0">Using io.LimitReader in Go</h1>

<p>I was working on a problem and wanted to read a very specific chunck of file. I read Go documentation and came through <a href="http://golang.org/pkg/io/#LimitedReader">io.LimitReader</a>. According to official documentation, &ldquo;A LimitedReader reads from R but limits the amount of data returned to just N bytes. Each call to Read updates N to reflect the new amount remaining.&rdquo; and this is what I wanted.</p>

<pre><code class="language-go">
f, _ := os.Open(&quot;largefile.bin&quot;)
f.Seek(123, 0)

b := make([]byte, 150-123) // remaining length after seek

f.Read(&amp;b)
f.Close()

buf := bytes.NewBuffer(b) // create buffer with the needed bytes

var a float32
binary.Read(buf, binary.LittleEndian, &amp;a)

binary.Read(io.LimitReader(r, 150-123), binary.LittleEndian, &amp;a)
</code></pre>

             </div>
          </div>
       </div>
<hr>
   <div class="container">
         <footer id="site-footer">
            <p class="pull-right"><a href="http://varunksaini.com/">Home</a>.

              <br>
                <span class="pull-right" id="specs">Built with <a href="http://hugo.spf13.com">Hugo</a> | <a href="http://varunksaini.com/humans.txt">humans.txt</a>
                <br>&copy; <a href="http://varunksaini.com">Varun Saini</a>
              </span>
            </p>
         </footer>
   </div>
    
    <script src="http://varunksaini.com/js/jquery.js"></script>
    <link rel="stylesheet" href="http://varunksaini.com/css/site.css">

</body>
</html>

